<div class="report-widget">
    <h3><?= e($this->property('title')) ?></h3>

    <?php if (!isset($error)): ?>
        <div 
            class="control-chart height-200"
            data-control="chart-line"
            data-legend="false"
            data-full-width="1"
            data-chart-options="legend: {show: <?= $this->property('showLegend') ? 'true' : 'false' ?>}"
        >
            <span 
                data-chart="dataset" 
                data-set-label="<?= $metric ?>"
                data-set-color="#008dc9"
                data-set-data="<?= $rows ?>"
                data-set-name="<?= $metric ?>"></span>
        </div>

        <?php if ($this->property('description')): ?>
            <p class="report-description"><?= $this->property('description') ?></p>
        <?php endif ?>
    <?php else: ?>
        <p class="flash-message static warning"><?= e($error) ?></p>
    <?php endif ?>
</div>
